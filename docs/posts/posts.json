[
  {
    "path": "posts/welcome/",
    "title": "Welcome to Portfolio Rafael",
    "description": "Welcome to our new blog, Portfolio Rafael. We hope you enjoy \nreading what we have to say!",
    "author": [
      {
        "name": "Nora Jones",
        "url": "https://example.com/norajones"
      }
    ],
    "date": "2021-12-06",
    "categories": [],
    "contents": "\r\n\r\n\r\n\r\n",
    "preview": {},
    "last_modified": "2021-12-06T21:36:59-03:00",
    "input_file": "welcome.knit.md"
  },
  {
    "path": "posts/2021-12-06-analise-da-base-rais/",
    "title": "Análise da Base RAIS",
    "description": "Esse projeto tem como objetivo analisar os salários da base da RAIS. Projeto feito na Semana Data\nScience na Prática da Curso R",
    "author": [
      {
        "name": "Rafael Rocha",
        "url": {}
      }
    ],
    "date": "2021-12-06",
    "categories": [],
    "contents": "\r\nNesse relatório estamos interessados em responder a pergunta:\r\n“Quanto ganha um cientista de dados?”\r\nPara isso vamos utilizar a base da RAIS anonimizada\r\nAcessando os dados da RAIS\r\nVamos utilizar o datalake da iniciativa base dos dados.\r\n\r\n\r\n\r\nAbaixo está o código que carrega as primeiras 5 linhas da tabela de microdados.\r\n\r\n\r\n# como eu faria se fosse ler de um arquivo\r\n# tabela_normal <- read.csv(\"https://raw.githubusercontent.com/curso-r/main-r4ds-1/master/dados/imdb.csv\")\r\n# \r\n# head(tabela_normal, 5)\r\n# como eu faço se uso um SGDB (robô que processa e me envia dados)\r\nbigrquery::bq_auth(\"jtrecenti@curso-r.com\")\r\n# atalho: ctrl + enter\r\nconexao <- dbConnect(\r\n  bigquery(),\r\n  project = \"basedosdados\",\r\n  dataset = \"br_me_rais\",\r\n  billing = \"curso-r\"\r\n)\r\nprimeiras_cinco_linhas <- collect(head(select(tbl(conexao, \"microdados_vinculos\"),\r\n       everything()), 5))\r\nprimeiras_cinco_linhas\r\n\r\n\r\n\r\nVamos fazer a mesma coisa utilizando o pipe!\r\n\r\n\r\nprimeiras_cinco_linhas_com_pipe <- tbl(conexao, \"microdados_vinculos\") %>% \r\n  select(everything()) %>% \r\n  head(5) %>% \r\n  collect()\r\n# atalho: ctrl+shift+M\r\n# antes e atualmente: {magrittr}: %>%\r\n# atualmente (4.1 ou +): |>\r\nprimeiras_cinco_linhas_com_pipe\r\n\r\n\r\n\r\nA base de dados que queremos analisar aqui é a base de pessoas que (potencialmente) trabalham com ciência de dados. Existe um Código Brasileiro de Ocupações (CBO), que tem um cadastro de todas as ocupações formais no Brasil. Vamos pegar alguns códigos que são relacionados a ciência de dados e filtrar a base da RAIS para obter os dados dessas pessoas.\r\nPergunta principal de pesquisa:\r\n\r\nQuem trabalha com ciência de dados ganha quanto?\r\n\r\n\r\ncodigos_cbo <- c(\r\n\"252515\", \"252525\", \"211110\",\r\n# pesquisa/cientista\r\n\"211205\", \"211210\",\"411035\",\r\n\"211210\", \"131120\",\"211215\"\r\n# ocupações estatísticas\r\n)\r\nmicrodados_tbl <- tbl(conexao, \"microdados_vinculos\") %>% \r\nselect(everything()) %>% \r\nfilter(\r\nano >= 2013,\r\ncbo_2002 %in% codigos_cbo\r\n) %>% \r\nhead(5000)\r\ntabela_microdados_vinculos <- collect(microdados_tbl)\r\nView(tabela_microdados_vinculos)\r\n\r\n\r\n\r\n\r\nAgora vamos rodar com a base completa!\r\n\r\n\r\nmicrodados_tbl <- tbl(conexao, \"microdados_vinculos\") %>% \r\n  select(everything()) %>% \r\n  filter(\r\n    ano >= 2013,\r\n    cbo_2002 %in% codigos_cbo\r\n  )\r\ntabela_microdados_vinculos <- collect(microdados_tbl)\r\nsaveRDS(tabela_microdados_vinculos, \"tabela_microdados_vinculos.rds\")\r\n\r\n\r\n\r\nPerguntas de pesquisa\r\nQuanto ganha uma pessoa que trabalha com ciência de dados\r\nPerguntas mais específicas\r\nQuanto o valor médio varia no tempo?\r\nQuanto o valor médio varia regionalmente?\r\nQuanto o valor médio varia por características das pessoas?\r\nGênero\r\nRaça/cor\r\nIdade\r\n\r\n[Desafio] Qual cargo tem a maior taxa de crescimento dentro daquele setor da economia (CNAE) proporcionalmente a municípios com mais pessoas empregadas naquela CBO\r\nComo variam os salários médios no tempo?\r\n\r\n\r\n\r\nAgora vamos ver os números exatos:\r\n\r\nano\r\nmedia_salario\r\n2013\r\n3457.553\r\n2014\r\n3702.131\r\n2015\r\n4229.452\r\n2016\r\n4409.327\r\n2017\r\n4969.977\r\n2018\r\n4886.116\r\n2019\r\n4969.408\r\n\r\nQuanto o salário médio varia regionalmente?\r\n\r\n\r\n\r\nEssa visualização a princípio é melhor em tabela:\r\n\r\nsigla_uf\r\nmedia\r\nAC\r\n2213.220\r\nAL\r\n1921.249\r\nAM\r\n4003.298\r\nAP\r\n2488.921\r\nBA\r\n3444.450\r\nCE\r\n3583.833\r\nDF\r\n6290.945\r\nES\r\n2289.896\r\nGO\r\n3053.561\r\nMA\r\n1518.701\r\nMG\r\n3373.300\r\nMS\r\n2671.339\r\nMT\r\n2520.127\r\nPA\r\n4239.167\r\nPB\r\n1852.823\r\nPE\r\n4014.886\r\nPI\r\n1556.301\r\nPR\r\n2835.612\r\nRJ\r\n7303.597\r\nRN\r\n2495.838\r\nRO\r\n1943.391\r\nRR\r\n2780.840\r\nRS\r\n3434.072\r\nSC\r\n3033.095\r\nSE\r\n3733.273\r\nSP\r\n5053.901\r\nTO\r\n1981.932\r\n\r\nAgora olhando em gráfico:\r\n\r\n\r\n\r\nEsse gráfico é legal até pra colocar na análise explicativa! DF e RJ aparentemente estão muito acima dos demais estados, conforme destaca o gráfico abaixo:\r\n\r\n\r\n\r\nSerá que essa mesma conclusão permanece quando escolhemos a mediana como medida resumo dos salários?\r\n\r\nsigla_uf\r\nmediana\r\nRJ\r\n7528.560\r\nDF\r\n4715.790\r\nSP\r\n3862.090\r\nAM\r\n3276.510\r\nPE\r\n2540.750\r\nPA\r\n2255.790\r\nRS\r\n2211.380\r\nMS\r\n2199.530\r\nSE\r\n2134.990\r\nMG\r\n2124.070\r\nRN\r\n2050.670\r\nRR\r\n2000.000\r\nBA\r\n1923.050\r\nMT\r\n1872.510\r\nGO\r\n1858.930\r\nSC\r\n1833.685\r\nCE\r\n1790.210\r\nPR\r\n1728.040\r\nAP\r\n1473.145\r\nES\r\n1450.890\r\nTO\r\n1352.080\r\nRO\r\n1347.035\r\nAC\r\n1334.445\r\nAL\r\n1279.175\r\nPB\r\n1222.690\r\nPI\r\n1093.530\r\nMA\r\n1008.330\r\n\r\n\r\n\r\n\r\nOs salários variam por sexo?\r\n\r\n\r\n\r\n\r\nsexo\r\nmedia\r\nmediana\r\n1\r\n5331.746\r\n3905.72\r\n2\r\n3600.132\r\n2300.71\r\n\r\nOs salários variam por Raça/Cor?\r\n\r\n\r\n\r\n\r\nraca_cor\r\nmedia\r\nmediana\r\n1\r\n3085.090\r\n2748.890\r\n2\r\n4287.588\r\n2888.915\r\n4\r\n3014.454\r\n2072.205\r\n6\r\n6783.212\r\n5338.735\r\n8\r\n2732.073\r\n1749.345\r\n9\r\n5656.755\r\n4888.030\r\n\r\n\r\n\r\n\r\n\r\ncbo_2002\r\nraca_cor\r\nsexo\r\nmedia\r\nmediana\r\n131120\r\n1\r\n1\r\n3044.484\r\n2846.390\r\n131120\r\n1\r\n2\r\n3711.533\r\n2894.720\r\n131120\r\n2\r\n1\r\n5754.384\r\n3710.660\r\n131120\r\n2\r\n2\r\n4713.267\r\n3547.830\r\n131120\r\n4\r\n1\r\n4070.667\r\n3482.140\r\n131120\r\n4\r\n2\r\n4139.647\r\n3632.360\r\n131120\r\n6\r\n1\r\n4749.999\r\n2720.095\r\n131120\r\n6\r\n2\r\n4527.754\r\n2914.305\r\n131120\r\n8\r\n1\r\n4222.106\r\n3094.520\r\n131120\r\n8\r\n2\r\n3949.073\r\n3288.460\r\n131120\r\n9\r\n1\r\n2756.113\r\n1969.710\r\n131120\r\n9\r\n2\r\n2504.534\r\n1911.410\r\n211110\r\n1\r\n1\r\n4977.286\r\n2252.620\r\n211110\r\n1\r\n2\r\n4179.436\r\n2012.500\r\n211110\r\n2\r\n1\r\n7404.453\r\n6095.230\r\n211110\r\n2\r\n2\r\n5222.835\r\n4156.200\r\n211110\r\n4\r\n1\r\n4865.089\r\n2888.650\r\n211110\r\n4\r\n2\r\n4005.826\r\n2958.860\r\n211110\r\n6\r\n1\r\n7008.334\r\n5988.050\r\n211110\r\n6\r\n2\r\n7416.892\r\n6036.220\r\n211110\r\n8\r\n1\r\n4204.910\r\n2527.780\r\n211110\r\n8\r\n2\r\n3517.021\r\n2640.690\r\n211110\r\n9\r\n1\r\n6269.211\r\n4172.000\r\n211110\r\n9\r\n2\r\n6317.404\r\n5708.750\r\n211205\r\n1\r\n1\r\n2452.480\r\n2596.560\r\n211205\r\n1\r\n2\r\n4670.118\r\n5284.330\r\n211205\r\n2\r\n1\r\n9739.266\r\n7073.535\r\n211205\r\n2\r\n2\r\n7194.206\r\n6024.610\r\n211205\r\n4\r\n1\r\n6618.641\r\n5911.410\r\n211205\r\n4\r\n2\r\n3582.730\r\n3000.000\r\n211205\r\n6\r\n1\r\n12634.457\r\n9633.100\r\n211205\r\n6\r\n2\r\n9791.802\r\n8536.310\r\n211205\r\n8\r\n1\r\n5586.215\r\n4226.040\r\n211205\r\n8\r\n2\r\n4479.939\r\n3499.990\r\n211205\r\n9\r\n1\r\n11754.928\r\n11684.510\r\n211205\r\n9\r\n2\r\n10258.871\r\n10730.140\r\n211210\r\n2\r\n1\r\n6223.349\r\n5000.000\r\n211210\r\n2\r\n2\r\n5006.268\r\n4205.330\r\n211210\r\n4\r\n1\r\n5751.621\r\n5383.535\r\n211210\r\n4\r\n2\r\n2229.416\r\n2174.430\r\n211210\r\n6\r\n1\r\n20459.611\r\n7901.545\r\n211210\r\n6\r\n2\r\n9277.978\r\n9206.500\r\n211210\r\n8\r\n1\r\n5563.023\r\n4211.365\r\n211210\r\n8\r\n2\r\n4324.135\r\n3893.330\r\n211210\r\n9\r\n1\r\n6854.247\r\n4244.570\r\n211210\r\n9\r\n2\r\n3512.073\r\n2655.990\r\n211215\r\n2\r\n1\r\n5207.926\r\n4540.070\r\n211215\r\n2\r\n2\r\n3800.894\r\n3267.630\r\n211215\r\n4\r\n1\r\n4066.597\r\n2441.385\r\n211215\r\n4\r\n2\r\n3845.828\r\n1640.805\r\n211215\r\n6\r\n2\r\n4565.443\r\n4568.040\r\n211215\r\n8\r\n1\r\n3819.912\r\n3360.800\r\n211215\r\n8\r\n2\r\n3867.480\r\n3613.510\r\n211215\r\n9\r\n1\r\n7037.869\r\n6487.440\r\n211215\r\n9\r\n2\r\n5029.161\r\n3673.585\r\n252515\r\n1\r\n1\r\n4785.281\r\n3355.735\r\n252515\r\n1\r\n2\r\n1983.550\r\n1797.470\r\n252515\r\n2\r\n1\r\n4657.551\r\n3647.480\r\n252515\r\n2\r\n2\r\n3300.008\r\n2541.730\r\n252515\r\n4\r\n1\r\n3349.139\r\n2789.920\r\n252515\r\n4\r\n2\r\n2794.911\r\n2231.555\r\n252515\r\n6\r\n1\r\n5347.074\r\n4500.000\r\n252515\r\n6\r\n2\r\n4647.427\r\n3869.710\r\n252515\r\n8\r\n1\r\n3324.709\r\n2330.370\r\n252515\r\n8\r\n2\r\n2253.579\r\n1679.805\r\n252515\r\n9\r\n1\r\n3502.275\r\n2436.540\r\n252515\r\n9\r\n2\r\n2537.900\r\n1929.530\r\n252525\r\n1\r\n1\r\n3106.797\r\n2347.750\r\n252525\r\n1\r\n2\r\n2949.537\r\n2703.485\r\n252525\r\n2\r\n1\r\n5237.162\r\n4103.680\r\n252525\r\n2\r\n2\r\n3358.031\r\n2288.415\r\n252525\r\n4\r\n1\r\n3774.552\r\n2752.570\r\n252525\r\n4\r\n2\r\n2280.888\r\n1571.345\r\n252525\r\n6\r\n1\r\n7953.548\r\n6846.910\r\n252525\r\n6\r\n2\r\n5427.499\r\n4656.830\r\n252525\r\n8\r\n1\r\n2949.831\r\n1933.715\r\n252525\r\n8\r\n2\r\n1993.650\r\n1336.285\r\n252525\r\n9\r\n1\r\n2657.023\r\n1561.455\r\n252525\r\n9\r\n2\r\n1749.925\r\n1172.880\r\n411035\r\n1\r\n1\r\n1680.846\r\n1369.315\r\n411035\r\n1\r\n2\r\n1470.052\r\n1024.120\r\n411035\r\n2\r\n1\r\n1572.291\r\n1277.860\r\n411035\r\n2\r\n2\r\n1534.250\r\n1260.000\r\n411035\r\n4\r\n1\r\n1404.462\r\n1269.740\r\n411035\r\n4\r\n2\r\n1359.977\r\n1200.860\r\n411035\r\n6\r\n1\r\n2173.909\r\n1835.260\r\n411035\r\n6\r\n2\r\n1862.322\r\n1560.500\r\n411035\r\n8\r\n1\r\n1477.781\r\n1254.150\r\n411035\r\n8\r\n2\r\n1392.285\r\n1198.305\r\n411035\r\n9\r\n1\r\n6775.978\r\n7615.605\r\n411035\r\n9\r\n2\r\n6044.256\r\n7461.230\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n",
    "preview": "posts/2021-12-06-analise-da-base-rais/analise-da-base-rais_files/figure-html5/unnamed-chunk-6-1.png",
    "last_modified": "2021-12-10T19:04:39-03:00",
    "input_file": "analise-da-base-rais.knit.md"
  }
]
